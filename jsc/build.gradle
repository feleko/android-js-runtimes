// Inherit group & version from root
//version '1.0.0'

buildscript {
    repositories {
        mavenCentral()
        google()
        maven { url "https://plugins.gradle.org/m2/" }
    }

    dependencies {
        classpath 'com.github.kezong:fat-aar:1.3.8'
    }
}


repositories {
    google()
    mavenCentral()
    maven {
        // Local Maven repo containing AARs with JSC library built for Android
        url "$projectDir/../download-jsc/libs/250231.0.0/package/dist"
    }
    maven {
        // Local Maven repo containing AARs with JSC library built for Android
        url "$projectDir/../download-jsc/libs/245459.0.0/package/dist"
    }
}

apply plugin: 'com.kezong.fat-aar'

android {
    namespace "com.github.feleko.android_js_runtimes.jsc"

    packagingOptions {
        pickFirst '**/libjsc.so'
        pickFirst '**/libc++_shared.so'
    }

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_11
        targetCompatibility JavaVersion.VERSION_11
    }

    defaultConfig {
        externalNativeBuild {
            cmake {
                cppFlags ""
                arguments "-DANDROID_STL=c++_shared"//, "-DANDROID_ARM_NEON=TRUE"

            }

        }
    }
}

dependencies {
    embed "org.webkit:android-jsc:r250231"
    embed "org.webkit:android-jsc-cppruntime:r245459"
}
